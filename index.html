<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>整合版</title>
  <style>
    /* reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: sans-serif;
      padding: 20px;
    }

    /* 導覽列樣式 */
    .navbar {
      display: flex;
      background-color: #333;
      padding: 10px 20px;
      color: white;
    }

    .navbar a {
      color: white;
      text-decoration: none;
      padding: 10px 15px;
      position: relative;
    }

    .navbar a:hover {
      background-color: #555;
    }

    .dropdown {
      position: relative;
    }

    /* mega menu 區塊 */
    .mega-menu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      width: 600px;
      background-color: white;
      color: black;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      z-index: 1000;
    }

    .mega-menu h3 {
      margin-bottom: 10px;
    }

    /* 輔助區域定位用 */
    .menu-container {
      position: relative;
    }

    /* 可選：讓 mega menu 顯示出來時有 transition 效果 */
    .mega-menu.show {
      display: block;
    }
  </style>
</head>
<body>

  <!-- 導覽列 -->
  <div class="navbar">
    <a href="#">首頁</a>
    <div class="dropdown" data-menu="menu1">
      <a href="#">爭議議案簡述</a>
    </div>
    <div class="dropdown" data-menu="menu2">
      <a href="#">法律知識科普區</a>
    </div>
  </div>

  <!-- menu 容器：與導覽列分開 -->
  <div class="menu-container">
    <!-- 第一個 mega menu -->
    <div id="menu1" class="mega-menu">
      <h3>爭議議案簡述</h3>
      <p>這裡是爭議議案的相關說明內容。</p>
    </div>

    <!-- 第二個 mega menu -->
    <div id="menu2" class="mega-menu">
      <h3>法律知識科普區</h3>
      <p>這裡是法律知識的科普說明。</p>
    </div>
  </div>

  <!-- JavaScript：控制顯示與隱藏 -->
  <script>
    const dropdowns = document.querySelectorAll('.dropdown');
    const menus = document.querySelectorAll('.mega-menu');

    function showMenu(menu) {
      menus.forEach(m => m.classList.remove('show'));
      if (menu) menu.classList.add('show');
    }

    function hideMenus() {
      menus.forEach(m => m.classList.remove('show'));
    }

    dropdowns.forEach(dropdown => {
      const menuId = dropdown.getAttribute('data-menu');
      const targetMenu = document.getElementById(menuId);

      dropdown.addEventListener('mouseenter', () => {
        if (window.innerWidth >= 769) {
          showMenu(targetMenu);
        }
      });

      dropdown.addEventListener('mouseleave', () => {
        if (window.innerWidth >= 769) {
          setTimeout(() => {
            // 如果滑鼠沒有移到 mega menu 上，才關閉
            if (!targetMenu.matches(':hover')) {
              hideMenus();
            }
          }, 200);
        }
      });

      targetMenu.addEventListener('mouseleave', () => {
        hideMenus();
      });

      targetMenu.addEventListener('mouseenter', () => {
        showMenu(targetMenu);
      });
    });
  </script>
</body>
</html>
